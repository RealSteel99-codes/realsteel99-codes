name: Update README Fun Fact

# This workflow runs automatically every day at 00:00 UTC
on:
  schedule:
    - cron: '0 0 * * *'
  # Allows manual triggering from the GitHub Actions tab
  workflow_dispatch:

jobs:
  update-fact:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout repository
        # Action to get your code onto the runner
        uses: actions/checkout@v4
        
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.x' 
          
      - name: Install dependencies
        # The 'requests' library is needed for the API call
        run: pip install requests
        
      - name: Run Python script to update README
        # Assumes your Python file is named 'update_readme.py' in the root directory
        run: python fact_update_minimal.py
        
      - name: Auto-commit changes to README
        # THIS USES THE CORRECT ACTION NAME: stefanzweifel/git-auto-commit-action
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "ðŸ¤– Update daily fun fact in README"
          files: README.md
